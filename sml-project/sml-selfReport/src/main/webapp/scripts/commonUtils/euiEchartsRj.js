define(["echarts"],function(p){var b=p.zrender;var c=b.tool.color;var a=null;var l={__cache:{},_getCacheObj:function(){if(!this.__cache){this.__cache={}}return this.__cache},_bindCache:function(A,z){var y=this._getCacheObj();y[A]=z},_unbindCache:function(z){var y=this._getCacheObj();if(y){delete (y[z])}},_getCache:function(z){var y=this._getCacheObj();if(y){if(z&&z.length){return y[z]}else{return y}}},_clearCache:function(){this.__cache={}}};var t=function(A,z){var y={backgroundColor:"#ffffff",color:v,calculable:false,tooltip:{trigger:"item"},noDataLoadingOption:{text:"暂无数据",effect:"whirling",textStyle:{fontSize:16}},toolbox:{show:true,feature:{mark:{show:false},dataView:{show:false,readOnly:false},magicType:{show:false},dataZoom:{show:false,title:{dataZoom:"区域缩放",dataZoomReset:"区域缩放后退"}},restore:{show:true},saveAsImage:{show:true}}}};(function(C){var B=q(z);C.extend(true,y,B,A)})(jQuery);return y};var q=function(y){var A={};if(y=="line"){A={grid:{y:50,y2:30},xAxis:[{type:"category",boundaryGap:false}]}}else{if(y=="bar"){A={xAxis:[{type:"category",boundaryGap:false}]}}else{if(y=="pie"){A={}}else{if(y=="gauge"){A={}}else{if(y=="scatter"){A={}}else{if(y=="k"){A={}}else{if(y=="radar"){A={}}else{if(y=="map"){A={}}else{if(y=="force"){A={}}else{if(y=="chord"){A={}}else{if(y=="funnel"){A={}}else{if(y=="eventRiver"){A={}}}}}}}}}}}}}if(y=="line"||y=="bar"){var z={grid:{y:50,y2:30},xAxis:[{type:"category",boundaryGap:false}]};(function(B){B.extend(true,A,z)})(jQuery)}return A};var g=function(y,A){if(y&&A){for(var z=0;z<A.length;z++){(function(B){B.extend(true,y[z]=y[z]||{},A[z]=A[z]||{})})(jQuery)}return y}else{if(y){return y}else{if(A){return A}}}};var j=function(z,D){var E=z.chartId;var B=z.option;var A=z.chartType;var y=z.other;var C=l._getCache(E);if(C){s(E,B,A);if(D&&typeof D=="function"){D.call(this,E)}}else{require(["echarts","echarts/../theme/"+y.theme+"","echarts/../chart/bar","echarts/../chart/line","echarts/../chart/pie","echarts/../chart/gauge","echarts/../chart/scatter","echarts/../chart/k","echarts/../chart/radar","echarts/../chart/map","echarts/../chart/force","echarts/../chart/chord","echarts/../chart/funnel","echarts/../chart/eventRiver","echarts/../chart/heatmap","echarts/../chart/treemap","echarts/../chart/venn","echarts/../chart/tree","echarts/../chart/wordCloud"],function(I,L,J,G,F,K){var H=I.echarts.init(document.getElementById(E),L);l._bindCache(E,H);s(E,B,A);C=H;if(D&&typeof D=="function"){D.call(this,E)}})}return C};var h=function(y){};var s=function(C,A,z){var y=l._getCache(C);if(A==null||A==undefined||A==""||A=={}){A={series:[{}]}}var B=t(A,z);if(B==null){y.dispose();document.getElementById(C).innerHTML=chartHtml;l._unbindCache(C)}else{y.hideLoading();y.clear();y.setOption(B);window.onresize=function(){if(a){clearTimeout(a)}a=setTimeout(function(){var F=l._getCacheObj();for(var G in F){if($("#"+G).is(":visible")){var E=G;var D=F[G];if(D!=null&&D){D.resize()}}}},700)}}};var k="<div style='width: 100%;height: 100%;text-align:center;position:relative;top:50%;'><font size='3'>暂无数据</font></div>";var o=["#bbbbff","#bbbdff","#bbc0ff","#bbc2ff","#bbc5ff","#bbc8ff","#bbcaff","#bbcdff","#bbd0ff","#bbd2ff","#bbd5ff","#bbd8ff","#bbdaff","#bbddff","#bbe0ff","#bbe2ff","#bbe5ff","#bbe8ff","#bbeaff","#bbedff"];var v=["#62bdff","#c09ce8","#f5dc5c","#fd6500","#5db75d","#ffbacf","#7e9fcc","#88f1eb","#f9f88c","#9969aa","#b9c600","#fcb247","#2d81cf","#b3f171","#ec9df5","#ffe700","#20b0a9","#f67b98","#8b74c4","#d8e428"];var d=function(y){if(isNaN(y)){y=0}return c.getColor(y)};var f=function(y){if(isNaN(y)){y=0}if(y>=20){y=y%20}return v[y]};var e=function(z){var y=l._getCache(z);y.showLoading({text:"数据加载中...",effect:"spin",textStyle:{fontSize:16}})};var i=function(z){var y=l._getCache(z);y.hideLoading()};var m=function(E,C,B,z,y){var D={};(function(F){F.extend(D,{theme:"macarons"},z)})(jQuery);var A={other:D,chartId:E,option:C,chartType:B};return j(A,y)};var r=function(){return l._getCacheObj()};var n=function(z,y){l._bindCache(z,y)};var w=function(y){l._unbindCache(y)};var x=function(y){return l._getCache(y)};var u=function(){l._clearCache()};return{echarts:p.echarts,zrender:b,zrColor:c,noDataHtml:k,blueStepColorList:o,getColor:d,getEuiColor:f,create:m,showLoading:e,hideLoading:i,getCacheObj:r,addCache:n,delCache:w,getCache:x,clearCache:u}});